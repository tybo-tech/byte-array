<section class="final-cta" appScrollAnimate>
  <div class="container">
    <!-- Left Side: CTA Content -->
    <div class="cta-text">
      <h2 class="fade-in">Let's Build Something Incredible Together</h2>
      <p class="fade-in delay-1">
        Ready to transform your business with cutting-edge software solutions?
        Get in touch with our experts today.
      </p>

      <!-- Key Benefits -->
      <ul class="benefits fade-in delay-2">
        <li>
          <i class="fas fa-cogs"></i> Custom software tailored to your needs
        </li>
        <li>
          <i class="fas fa-shield-alt"></i> Enterprise-level security &
          scalability
        </li>
        <li>
          <i class="fas fa-users"></i> Trusted by leading businesses worldwide
        </li>
      </ul>

      <!-- Alternative Contact Info -->
      <div class="contact-info fade-in delay-3 sm-p-2">
        <p>
          <i class="fas fa-map-marker-alt"></i> Karkloof Cres, Waterval City,
          Midrand, 2066
        </p>
        <p><i class="fas fa-envelope"></i>{{ email }}</p>
        <p><i class="fas fa-phone-alt"></i> +27 11 393 1169</p>
      </div>
    </div>

    <!-- Right Side: Contact Form -->
    <div class="cta-form fade-in delay-2">
      <!-- Success/Error Messages -->
      <div *ngIf="submitMessage"
           class="form-message"
           [class.success]="submitSuccess"
           [class.error]="!submitSuccess">
        <i [class]="submitSuccess ? 'fas fa-check-circle' : 'fas fa-exclamation-circle'"></i>
        {{ submitMessage }}
      </div>

      <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="name">Name *</label>
          <input
            type="text"
            id="name"
            formControlName="name"
            placeholder="Enter your name"
            [class.error]="getFieldError('name')" />
          <div *ngIf="getFieldError('name')" class="field-error">
            {{ getFieldError('name') }}
          </div>
        </div>

        <div class="form-group">
          <label for="email">Email *</label>
          <input
            type="email"
            id="email"
            formControlName="email"
            placeholder="Enter your email"
            [class.error]="getFieldError('email')" />
          <div *ngIf="getFieldError('email')" class="field-error">
            {{ getFieldError('email') }}
          </div>
        </div>

        <div class="form-group">
          <label for="phone">Phone (Optional)</label>
          <input
            type="tel"
            id="phone"
            formControlName="phone"
            placeholder="Enter your phone number" />
        </div>

        <div class="form-group">
          <label for="company">Company (Optional)</label>
          <input
            type="text"
            id="company"
            formControlName="company"
            placeholder="Enter your company name" />
        </div>

        <div class="form-group">
          <label for="inquiry">Business Inquiry *</label>
          <select id="inquiry" formControlName="inquiry" [class.error]="getFieldError('inquiry')">
            <option value="">Select an option</option>
            <option value="Custom Software Development">Custom Software Development</option>
            <option value="AI & Automation Solutions">AI & Automation Solutions</option>
            <option value="Cloud & DevOps Services">Cloud & DevOps Services</option>
            <option value="Web & Mobile Development">Web & Mobile Development</option>
            <option value="Data Security & Compliance">Data Security & Compliance</option>
            <option value="Software Consulting">Software Consulting</option>
            <option value="Other">Other</option>
          </select>
          <div *ngIf="getFieldError('inquiry')" class="field-error">
            {{ getFieldError('inquiry') }}
          </div>
        </div>

        <div class="form-group">
          <label for="message">Message *</label>
          <textarea
            id="message"
            formControlName="message"
            placeholder="Tell us about your project and requirements"
            [class.error]="getFieldError('message')"></textarea>
          <div *ngIf="getFieldError('message')" class="field-error">
            {{ getFieldError('message') }}
          </div>
        </div>

        <button
          type="submit"
          class="btn-primary"
          [disabled]="isSubmitting || contactForm.invalid">
          <span *ngIf="!isSubmitting">
            Get a Free Consultation
            <i class="fas fa-arrow-right ml-1 rotate-45"></i>
          </span>
          <span *ngIf="isSubmitting">
            <i class="fas fa-spinner fa-spin"></i>
            Sending...
          </span>
        </button>
      </form>
    </div>
  </div>

  <!-- Success Modal -->
  <app-success-modal
    [isVisible]="showSuccessModal"
    title="Thank You for Contacting Us!"
    [message]="submitMessage"
    closeButtonText="Continue"
    [showNextSteps]="true"
    [nextSteps]="[
      'Our team will review your inquiry within 24-48 hours',
      'A project manager will contact you to discuss your requirements',
      'We\'ll prepare a tailored proposal for your project'
    ]"
    (close)="onModalClose()">
  </app-success-modal>
</section>
